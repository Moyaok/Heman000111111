<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô - HOME KEA</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="enhanced-style.css">
    <link rel="icon" type="image/png" href="image/logo1.png">
</head>

<body>

    <header class="navbar">
        <a href="index.html" class="logo">
            <img src="image/logo1.png" alt="HOME KEA Logo">
        </a>
        <nav>
            <a href="living-room.html" class="active">‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô</a>
            <a href="bedroom.html">‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô</a>
            <a href="kitchen.html">‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ß</a>
            <a href="contact.html">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
            <div class="cart-icon-wrapper" onclick="goToCart()">
                <span class="cart-icon">üõí</span>
                <span class="cart-badge">0</span>
            </div>
        </nav>
    </header>

    <div class="breadcrumb">
        <a href="index.html">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a> /
        <span>‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô</span>
    </div>

    <main>
        <section class="page-header">
            <h1>‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡πÉ‡∏ô‡∏´‡∏°‡∏ß‡∏î: ‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô</h1>
            <p>‡πÇ‡∏ã‡∏ü‡∏≤ ‡πÇ‡∏ï‡πä‡∏∞‡∏Å‡∏•‡∏≤‡∏á ‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡∏ß‡∏µ ‡πÅ‡∏•‡∏∞‡∏≠‡∏∑‡πà‡∏ô‡πÜ ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏°‡∏∏‡∏°‡∏û‡∏±‡∏Å‡∏ú‡πà‡∏≠‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</p>
        </section>

        <section class="product-grid-container">
            <div class="filter-section">
                <div class="filter-controls">
                    <div class="search-box">
                        <input type="text" id="searchInput" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤..." onkeyup="filterProducts()">
                        <span class="search-icon">üîç</span>
                    </div>
                    <div class="filter-group">
                        <label>‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏ï‡∏≤‡∏°:</label>
                        <select id="sortSelect" onchange="sortProducts()">
                            <option value="default">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</option>
                            <option value="price-low">‡∏£‡∏≤‡∏Ñ‡∏≤: ‡∏ï‡πà‡∏≥ - ‡∏™‡∏π‡∏á</option>
                            <option value="price-high">‡∏£‡∏≤‡∏Ñ‡∏≤: ‡∏™‡∏π‡∏á - ‡∏ï‡πà‡∏≥</option>
                            <option value="name">‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</option>
                        </select>
                    </div>
                    <div class="filter-group">
                        <label>‡∏ä‡πà‡∏ß‡∏á‡∏£‡∏≤‡∏Ñ‡∏≤:</label>
                        <select id="priceFilter" onchange="filterProducts()">
                            <option value="all">‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</option>
                            <option value="0-5000">0 - 5,000 ‡∏ø</option>
                            <option value="5000-10000">5,000 - 10,000 ‡∏ø</option>
                            <option value="10000-20000">10,000 - 20,000 ‡∏ø</option>
                            <option value="20000+">20,000+ ‡∏ø</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="product-grid" id="productGrid">
                <!-- Products will be rendered here -->
            </div>

            <div id="noResults" style="display: none; text-align: center; padding: 60px 20px;">
                <div style="font-size: 60px; color: #ddd;">üîç</div>
                <h3>‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ó‡∏µ‡πà‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤</h3>
                <p>‡∏•‡∏≠‡∏á‡πÉ‡∏ä‡πâ‡∏Ñ‡∏≥‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏≠‡∏∑‡πà‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏õ‡∏£‡∏±‡∏ö‡∏ï‡∏±‡∏ß‡∏Å‡∏£‡∏≠‡∏á</p>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>copyright &copy; Pongsakorn Manosri&Yannapat Saritdikul</p>
        </div>
    </footer>

    <!-- ‡πÇ‡∏´‡∏•‡∏î cart.js ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏û‡∏≠ -->
    <script src="cart.js"></script>

    <script>
        // ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ ‚Äì ‡πÉ‡∏ä‡πâ‡∏Ç‡∏≠‡∏á‡πÄ‡∏î‡∏¥‡∏°‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏´‡∏ô‡πâ‡∏≤
        const products = [{
            id: 'living-1',
            title: '‡πÇ‡∏ã‡∏ü‡∏≤‡∏Å‡∏≥‡∏°‡∏∞‡∏´‡∏¢‡∏µ‡πà ‡∏£‡∏∏‡πà‡∏ô "Luxury"',
            price: 19900,
            image: 'https://furyouliving.com/cdn/shop/files/IMG_6906-Photoroom_6a971b0a-8f2a-468d-b269-cb177145a381.jpg?v=1726803498',
            category: '‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô'
        }, {
            id: 'living-2',
            title: '‡πÇ‡∏ï‡πä‡∏∞‡∏Å‡∏•‡∏≤‡∏á‡∏•‡∏≤‡∏¢‡∏´‡∏¥‡∏ô‡∏≠‡πà‡∏≠‡∏ô',
            price: 4500,
            image: 'https://hightechbed.com/wp-content/uploads/2020/10/011.png',
            category: '‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô'
        }, {
            id: 'living-3',
            title: '‡∏ä‡∏±‡πâ‡∏ô‡∏ß‡∏≤‡∏á‡∏ó‡∏µ‡∏ß‡∏µ‡πÑ‡∏°‡πâ ‡∏£‡∏∏‡πà‡∏ô "Scandi"',
            price: 3800,
            image: 'https://cf.shopee.co.th/file/b9eca9a9dc8f027fe2e31b53ecc38ffe',
            category: '‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô'
        }];

        let filteredProducts = [...products];

        // ‡πÅ‡∏™‡∏î‡∏á‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
        function renderProducts(productsToRender) {
            const grid = document.getElementById('productGrid');
            const noResults = document.getElementById('noResults');

            grid.innerHTML = '';

            if (!productsToRender.length) {
                grid.style.display = 'none';
                noResults.style.display = 'block';
                return;
            }

            grid.style.display = 'grid';
            noResults.style.display = 'none';

            productsToRender.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card';
                card.innerHTML = `
                    <div class="product-image">
                        <img src="${product.image}" alt="${product.title}">
                    </div>
                    <div class="product-info">
                        <h3 class="product-title">${product.title}</h3>
                        <p class="product-price">${product.price.toLocaleString()} ‡∏ø</p>
                        <button class="add-to-cart-btn">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</button>
                    </div>
                `;

                // ‡∏Ñ‡∏•‡∏¥‡∏Å‡∏£‡∏π‡∏õ ‚Üí ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î
                card.querySelector('.product-image').addEventListener('click', () => {
                    goToProductDetail(product.id, product.title, product.price, product.image, product.category);
                });

                // ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤
                card.querySelector('.add-to-cart-btn').addEventListener('click', () => {
                    addToCart(product.id, product.title, product.price, product.image, product.category);
                });

                grid.appendChild(card);
            });
        }

        // ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ + ‡∏Å‡∏£‡∏≠‡∏á
        function filterProducts() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const priceRange = document.getElementById('priceFilter').value;

            filteredProducts = products.filter(product => {
                const matchesSearch = product.title.toLowerCase().includes(searchTerm);

                let matchesPrice = true;
                if (priceRange !== 'all') {
                    const [min, maxRaw] = priceRange.split('-');
                    const minPrice = parseInt(min || '0', 10);
                    const maxPrice = maxRaw ? parseInt(maxRaw.replace('+', ''), 10) : Infinity;
                    matchesPrice = product.price >= minPrice && product.price <= maxPrice;
                }

                return matchesSearch && matchesPrice;
            });

            sortProducts();
        }

        // ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö
        function sortProducts() {
            const sortValue = document.getElementById('sortSelect').value;
            let list = [...filteredProducts];

            if (sortValue === 'price-low') {
                list.sort((a, b) => a.price - b.price);
            } else if (sortValue === 'price-high') {
                list.sort((a, b) => b.price - a.price);
            } else if (sortValue === 'name') {
                list.sort((a, b) => a.title.localeCompare(b.title));
            }

            renderProducts(list);
        }

        // ‡πÑ‡∏õ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
        function goToProductDetail(id, title, price, image, category) {
            const url = new URL('product-detail.html', window.location.href);
            url.searchParams.set('id', id);
            url.searchParams.set('title', title);
            url.searchParams.set('price', price);
            url.searchParams.set('image', image);
            url.searchParams.set('category', category);
            window.location.href = url.toString();
        }

        // ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
        renderProducts(products);
    </script>

    <!-- Floating Cart Button -->
    <div class="floating-cart" onclick="goToCart()" role="button" aria-label="‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤" tabindex="0" onkeypress="handleCartKeyPress(event)">
        <div class="floating-cart-button">
            <span class="floating-cart-icon">üõí</span>
            <span class="floating-cart-badge" id="floatingCartBadge">0</span>
        </div>
        <div class="floating-cart-tooltip">
            ‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤
        </div>
        <div class="floating-cart-preview" id="floatingCartPreview">
            <div class="cart-preview-items">
                <span id="previewItemCount">0</span> ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£
            </div>
            <div class="cart-preview-total">
                ‡∏ø<span id="previewTotal">0</span>
            </div>
        </div>
    </div>

    <script>
        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó Badge ‡∏Ç‡∏≠‡∏á Floating Cart
        function updateFloatingCart() {
            const badge = document.getElementById('floatingCartBadge');
            const itemCount = document.getElementById('previewItemCount');
            const totalAmount = document.getElementById('previewTotal');
            const floatingCart = document.querySelector('.floating-cart');

            if (badge && itemCount && totalAmount) {
                const count = cart.getItemCount();
                const total = cart.getTotal();

                badge.textContent = count;
                itemCount.textContent = count;
                totalAmount.textContent = total.toLocaleString();

                if (count > 0) {
                    badge.style.display = 'flex';
                    floatingCart.classList.remove('empty-cart');
                } else {
                    badge.style.display = 'none';
                    floatingCart.classList.add('empty-cart');
                }
            }
        }

        function animateFloatingCart() {
            const floatingCart = document.querySelector('.floating-cart');
            floatingCart.classList.add('item-added', 'clicked');
            setTimeout(() => {
                floatingCart.classList.remove('item-added', 'clicked');
            }, 600);
        }

        const originalAddToCart = window.addToCart;
        window.addToCart = function(productId, title, price, image, category) {
            originalAddToCart(productId, title, price, image, category);
            animateFloatingCart();
            updateFloatingCart();
        };

        function handleCartKeyPress(event) {
            if (event.key === 'Enter' || event.key === ' ') {
                event.preventDefault();
                goToCart();
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            updateFloatingCart();
            setInterval(updateFloatingCart, 500);
        });

        if (typeof cart !== 'undefined') {
            const originalSaveCart = cart.saveCart.bind(cart);
            cart.saveCart = function() {
                originalSaveCart();
                updateFloatingCart();
            };
        }

        const originalGoToCart = window.goToCart;
        window.goToCart = function() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
            setTimeout(() => {
                originalGoToCart();
            }, 300);
        };
    </script>

    <!-- Mini Cart Dropdown CSS & HTML & Script ‡∏¢‡∏±‡∏á‡πÉ‡∏ä‡πâ‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡πÄ‡∏î‡∏¥‡∏° ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏ä‡πâ dropdown ‡∏Å‡πá‡∏Ñ‡∏á‡πÑ‡∏ß‡πâ‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ -->
    <!-- (‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡∏™‡πà‡∏ß‡∏ô‡∏•‡πà‡∏≤‡∏á‡∏ï‡πà‡∏≠‡∏à‡∏≤‡∏Å‡∏ô‡∏µ‡πâ ‡πÄ‡∏û‡∏£‡∏≤‡∏∞‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏°‡∏µ‡∏ö‡∏±‡πä‡∏Å syntax) -->

</body>

</html>