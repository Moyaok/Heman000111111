<!DOCTYPE html>
<html lang="th">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤ - HOME KEA</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="enhanced-style.css">
    <link rel="icon" type="image/png" href="image/logo1.png">
</head>

<body>

    <header class="navbar">
        <a href="index.html" class="logo">
            <img src="image/logo1.png" alt="HOME KEA Logo">
        </a>
        <nav>
            <a href="living-room.html">‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏±‡πà‡∏á‡πÄ‡∏•‡πà‡∏ô</a>
            <a href="bedroom.html">‡∏´‡πâ‡∏≠‡∏á‡∏ô‡∏≠‡∏ô</a>
            <a href="kitchen.html">‡∏´‡πâ‡∏≠‡∏á‡∏Ñ‡∏£‡∏±‡∏ß</a>
            <a href="contact.html">‡∏ï‡∏¥‡∏î‡∏ï‡πà‡∏≠‡πÄ‡∏£‡∏≤</a>
            <div class="cart-icon-wrapper" onclick="goToCart()">
                <span class="cart-icon">üõí</span>
                <span class="cart-badge">0</span>
            </div>
        </nav>
    </header>

    <div class="breadcrumb">
        <a href="index.html">‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</a> /
        <span>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
    </div>

    <main>
        <section class="page-header">
            <h1>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì</h1>
            <p id="cartItemCount">‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ 0 ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤</p>
        </section>

        <div class="cart-container">
            <div id="cartContent">
                <!-- Cart content will be loaded here -->
            </div>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <p>copyright &copy; Pongsakorn Manosri&Yannapat Saritdikul</p>
        </div>
    </footer>

    <script src="cart.js"></script>
    <script>
        function renderCart() {
            const cartContent = document.getElementById('cartContent');
            const itemCount = cart.getItemCount();

            document.getElementById('cartItemCount').textContent =
                `‡∏Ñ‡∏∏‡∏ì‡∏°‡∏µ ${itemCount} ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡πÉ‡∏ô‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤`;

            if (cart.items.length === 0) {
                cartContent.innerHTML = `
                    <div class="empty-cart">
                        <div class="empty-cart-icon">üõí</div>
                        <h2>‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡∏ß‡πà‡∏≤‡∏á‡πÄ‡∏õ‡∏•‡πà‡∏≤</h2>
                        <p>‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏•‡∏á‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏Å‡∏±‡∏ô‡πÄ‡∏•‡∏¢!</p>
                        <a href="index.html" class="cta-button">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ä‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á</a>
                    </div>
                `;
                return;
            }

            const cartGrid = document.createElement('div');
            cartGrid.className = 'cart-grid';

            // Cart Items Section
            const cartItems = document.createElement('div');
            cartItems.className = 'cart-items';
            cartItems.innerHTML = '<h2>‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</h2>';

            cart.items.forEach(item => {
                const cartItem = document.createElement('div');
                cartItem.className = 'cart-item';
                cartItem.innerHTML = `
                    <img src="${item.image}" alt="${item.title}" class="cart-item-image">
                    <div class="cart-item-info">
                        <h3>${item.title}</h3>
                        <p class="cart-item-category">${item.category}</p>
                    </div>
                    <div class="cart-item-price">${item.price.toLocaleString()} ‡∏ø</div>
                    <div class="quantity-controls">
                        <button class="qty-btn" onclick="updateItemQuantity('${item.id}', ${item.quantity - 1})">-</button>
                        <input type="number" class="qty-input" value="${item.quantity}" readonly>
                        <button class="qty-btn" onclick="updateItemQuantity('${item.id}', ${item.quantity + 1})">+</button>
                    </div>
                    <button class="remove-btn" onclick="removeItemFromCart('${item.id}')">‡∏•‡∏ö</button>
                `;
                cartItems.appendChild(cartItem);
            });

            // Cart Summary Section
            const cartSummary = document.createElement('div');
            cartSummary.className = 'cart-summary';

            const subtotal = cart.getTotal();
            const shipping = subtotal >= 5000 ? 0 : 150;
            const total = subtotal + shipping;

            cartSummary.innerHTML = `
                <h2>‡∏™‡∏£‡∏∏‡∏õ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠</h2>
                <div class="summary-row">
                    <span>‡∏£‡∏≤‡∏Ñ‡∏≤‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤</span>
                    <span>${subtotal.toLocaleString()} ‡∏ø</span>
                </div>
                <div class="summary-row">
                    <span>‡∏Ñ‡πà‡∏≤‡∏à‡∏±‡∏î‡∏™‡πà‡∏á</span>
                    <span>${shipping === 0 ? '‡∏ü‡∏£‡∏µ' : shipping.toLocaleString() + ' ‡∏ø'}</span>
                </div>
                ${shipping === 0 ? '' : `
                    <p style="font-size: 0.9em; color: #666; margin: 10px 0;">
                        üí° ‡∏ã‡∏∑‡πâ‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏≠‡∏µ‡∏Å ${(5000 - subtotal).toLocaleString()} ‡∏ø ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏£‡∏±‡∏ö‡∏™‡πà‡∏á‡∏ü‡∏£‡∏µ!
                    </p>
                `}
                <div class="summary-row total">
                    <span>‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</span>
                    <span>${total.toLocaleString()} ‡∏ø</span>
                </div>
                <button class="cta-button checkout-btn" onclick="proceedToCheckout()">
                    ‡∏î‡∏≥‡πÄ‡∏ô‡∏¥‡∏ô‡∏Å‡∏≤‡∏£‡∏ä‡∏≥‡∏£‡∏∞‡πÄ‡∏á‡∏¥‡∏ô
                </button>
                <button class="cta-button checkout-btn" onclick="continueShopping()" 
                    style="background-color: white; color: var(--primary-blue); border: 2px solid var(--primary-blue);">
                    ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ï‡πà‡∏≠
                </button>
            `;

            cartGrid.appendChild(cartItems);
            cartGrid.appendChild(cartSummary);
            cartContent.appendChild(cartGrid);
        }

        function updateItemQuantity(productId, newQuantity) {
            if (newQuantity < 1) {
                if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                    cart.removeItem(productId);
                    renderCart();
                }
            } else {
                cart.updateQuantity(productId, newQuantity);
                renderCart();
            }
        }

        function removeItemFromCart(productId) {
            if (confirm('‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡∏ö‡∏™‡∏¥‡∏ô‡∏Ñ‡πâ‡∏≤‡∏ô‡∏µ‡πâ‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏ï‡∏∞‡∏Å‡∏£‡πâ‡∏≤‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
                cart.removeItem(productId);
                renderCart();
            }
        }

        function proceedToCheckout() {
            window.location.href = 'checkout.html';
        }

        function continueShopping() {
            window.location.href = 'index.html';
        }

        // Load cart on page load
        renderCart();
    </script>
</body>

</html>